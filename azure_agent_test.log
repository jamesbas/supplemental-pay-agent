2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_AI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_AI_HOSTNAME: eastus2.api.azureml.ms
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_AI_PROJECT_ID: eastus2.api.azureml.ms;2678d36e-00a6-455f-8f47-d524ef09e674;rg-jamesbas-2315_ai;jamesbas_dxc_supp_pay_project
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_OPENAI_DEPLOYMENT_NAME: gpt-4o
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_OPENAI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_PROJECT_NAME: jamesbas_dxc_supp_pay_project
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_RESOURCE_GROUP: rg-jamesbas-2315_ai
2025-04-15 17:10:07,415 - __main__ - INFO - Environment variable AZURE_SUBSCRIPTION_ID: 2678d36e-00a6-455f-8f47-d524ef09e674
2025-04-15 17:11:23,200 - __main__ - INFO - 

==== STARTING TESTS ====


2025-04-15 17:11:23,200 - __main__ - INFO - Test configuration: debug=False, test-model=None, disable-tools=False
2025-04-15 17:11:23,200 - __main__ - INFO - 
=== Testing Azure AI Agent Service - Agent Deployment ===

2025-04-15 17:11:23,200 - __main__ - INFO - Using configuration: {
  "azure_openai": {
    "deployment_name": "gpt-4o",
    "api_key": "[REDACTED]",
    "endpoint": "https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview"
  },
  "azure_subscription_id": "2678d36e-00a6-455f-8f47-d524ef09e674",
  "azure_resource_group": "rg-jamesbas-2315_ai",
  "azure_project_name": "jamesbas_dxc_supp_pay_project",
  "azure_ai_hostname": "eastus2.api.azureml.ms",
  "local_files": {
    "data_dir": "data"
  }
}
2025-04-15 17:11:23,200 - __main__ - INFO - Initializing agent definitions...
2025-04-15 17:11:23,200 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:11:23,200 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:11:23,200 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:11:23,200 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:11:23,200 - __main__ - INFO - Deploying agents...
2025-04-15 17:11:23,200 - src.orchestration.azure_agent_definitions - INFO - Deploying agents to Azure AI Agent Service
2025-04-15 17:11:23,200 - src.orchestration.azure_agent_definitions - INFO - Successfully initialized AIProjectClient for file uploads
2025-04-15 17:11:23,213 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:11:25,981 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:11:25,981 - src.orchestration.azure_agent_definitions - INFO - Found 3 Excel/CSV files: Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx, UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx, UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:11:25,981 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx
2025-04-15 17:11:27,725 - azure.identity._internal.decorators - INFO - AzureCliCredential.get_token_info succeeded
2025-04-15 17:11:27,725 - azure.identity._credentials.default - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:11:27,725 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '30f5194c-1a3e-11f0-8a41-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:29,429 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:29 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:29,429 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx with ID: assistant-VR825i3Cg3Bu9Sv5VtBsAz
2025-04-15 17:11:29,429 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx
2025-04-15 17:11:29,458 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '33027167-1a3e-11f0-ad11-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:30,531 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:30 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:30,531 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx with ID: assistant-WNreytff6KFZeaVywsGQtp
2025-04-15 17:11:30,531 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:11:30,565 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '33a95be5-1a3e-11f0-a3b8-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:31,107 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:30 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:31,107 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK Standby_Callout_Overtime_Shift_Payment.xlsx with ID: assistant-7CUFVWfGYqzFF1TQWjDgha
2025-04-15 17:11:31,107 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded 3 Excel files for Code Interpreter
2025-04-15 17:11:31,107 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: policy_extraction_agent
2025-04-15 17:11:31,107 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:11:31,111 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1544'
    'Accept': 'application/json'
    'x-ms-client-request-id': '33fed404-1a3e-11f0-935f-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:31,679 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:31,685 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent policy_extraction_agent with ID asst_89qdb7gl8QeBPcxSGlVf9OIf
2025-04-15 17:11:31,685 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: pay_calculation_agent
2025-04-15 17:11:31,685 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:11:31,685 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1518'
    'Accept': 'application/json'
    'x-ms-client-request-id': '3456678d-1a3e-11f0-b00d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:32,189 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:32,189 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent pay_calculation_agent with ID asst_YyORkZTm3uMo21Ca5qzzcSvM
2025-04-15 17:11:32,189 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: analytics_agent
2025-04-15 17:11:32,189 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:11:32,189 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1465'
    'Accept': 'application/json'
    'x-ms-client-request-id': '34a33b36-1a3e-11f0-9694-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:11:32,658 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:11:32 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:11:32,658 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent analytics_agent with ID asst_X7wx6jleieAm0hN7WWHoEFVt
2025-04-15 17:11:32,658 - __main__ - INFO - Successfully deployed agents: {
  "policy_extraction_agent": "asst_89qdb7gl8QeBPcxSGlVf9OIf",
  "pay_calculation_agent": "asst_YyORkZTm3uMo21Ca5qzzcSvM",
  "analytics_agent": "asst_X7wx6jleieAm0hN7WWHoEFVt"
}
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_AI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_AI_HOSTNAME: eastus2.api.azureml.ms
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_AI_PROJECT_ID: eastus2.api.azureml.ms;2678d36e-00a6-455f-8f47-d524ef09e674;rg-jamesbas-2315_ai;jamesbas_dxc_supp_pay_project
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_OPENAI_DEPLOYMENT_NAME: gpt-4o
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_OPENAI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_PROJECT_NAME: jamesbas_dxc_supp_pay_project
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_RESOURCE_GROUP: rg-jamesbas-2315_ai
2025-04-15 17:19:50,370 - __main__ - INFO - Environment variable AZURE_SUBSCRIPTION_ID: 2678d36e-00a6-455f-8f47-d524ef09e674
2025-04-15 17:21:05,524 - __main__ - INFO - 

==== STARTING TESTS ====


2025-04-15 17:21:05,524 - __main__ - INFO - Test configuration: debug=False, test-model=None, disable-tools=False
2025-04-15 17:21:05,524 - __main__ - INFO - 
=== Testing Azure AI Agent Service - Agent Deployment ===

2025-04-15 17:21:05,524 - __main__ - INFO - Using configuration: {
  "azure_openai": {
    "deployment_name": "gpt-4o",
    "api_key": "[REDACTED]",
    "endpoint": "https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview"
  },
  "azure_subscription_id": "2678d36e-00a6-455f-8f47-d524ef09e674",
  "azure_resource_group": "rg-jamesbas-2315_ai",
  "azure_project_name": "jamesbas_dxc_supp_pay_project",
  "azure_ai_hostname": "eastus2.api.azureml.ms",
  "local_files": {
    "data_dir": "data"
  }
}
2025-04-15 17:21:05,527 - __main__ - INFO - Initializing agent definitions...
2025-04-15 17:21:05,527 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:21:05,527 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:21:05,668 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:21:05,668 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:21:05,668 - __main__ - INFO - Deploying agents...
2025-04-15 17:21:05,668 - src.orchestration.azure_agent_definitions - INFO - Deploying agents to Azure AI Agent Service
2025-04-15 17:21:05,668 - src.orchestration.azure_agent_definitions - INFO - Successfully initialized AIProjectClient for file uploads
2025-04-15 17:21:05,678 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:21:09,154 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:21:09,154 - src.orchestration.azure_agent_definitions - INFO - Found 3 Excel/CSV files: Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx, UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx, UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:21:09,156 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx
2025-04-15 17:21:10,905 - azure.identity._internal.decorators - INFO - AzureCliCredential.get_token_info succeeded
2025-04-15 17:21:10,905 - azure.identity._credentials.default - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:21:10,905 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8c8ea497-1a3f-11f0-8f15-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:12,769 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:12 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:12,793 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx with ID: assistant-4WNERZ9GkTioL7mCdnPnEW
2025-04-15 17:21:12,793 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx
2025-04-15 17:21:12,806 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8eb65a25-1a3f-11f0-9cb3-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:14,368 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:14 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:14,368 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx with ID: assistant-PGyaRi5yeWCpjyt2HccpRB
2025-04-15 17:21:14,384 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:21:14,410 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '8fab15ea-1a3f-11f0-a176-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:15,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:15 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:15,612 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK Standby_Callout_Overtime_Shift_Payment.xlsx with ID: assistant-TyaNpigDLqao6WJHQpJVqV
2025-04-15 17:21:15,612 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded 3 Excel files for Code Interpreter
2025-04-15 17:21:15,612 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: policy_extraction_agent
2025-04-15 17:21:15,612 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:21:15,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1544'
    'Accept': 'application/json'
    'x-ms-client-request-id': '9062860c-1a3f-11f0-bfe1-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:16,080 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:15 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:16,080 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent policy_extraction_agent with ID asst_lgUKl5NFQSaHpaR4nvTbpgex
2025-04-15 17:21:16,080 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: pay_calculation_agent
2025-04-15 17:21:16,080 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:21:16,080 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '7014'
    'Accept': 'application/json'
    'x-ms-client-request-id': '90a9f59d-1a3f-11f0-ad36-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:16,565 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:16 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:16,565 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent pay_calculation_agent with ID asst_HE1vNXjPaQBRpSgYTGJKcP9l
2025-04-15 17:21:16,565 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: analytics_agent
2025-04-15 17:21:16,565 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:21:16,581 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1465'
    'Accept': 'application/json'
    'x-ms-client-request-id': '90f65d10-1a3f-11f0-9a11-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:21:17,340 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:21:17 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:21:17,351 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent analytics_agent with ID asst_eEM6wRQWcsL820hoLP4uAHXq
2025-04-15 17:21:17,351 - __main__ - INFO - Successfully deployed agents: {
  "policy_extraction_agent": "asst_lgUKl5NFQSaHpaR4nvTbpgex",
  "pay_calculation_agent": "asst_HE1vNXjPaQBRpSgYTGJKcP9l",
  "analytics_agent": "asst_eEM6wRQWcsL820hoLP4uAHXq"
}
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_AI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_AI_HOSTNAME: eastus2.api.azureml.ms
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_AI_PROJECT_ID: eastus2.api.azureml.ms;2678d36e-00a6-455f-8f47-d524ef09e674;rg-jamesbas-2315_ai;jamesbas_dxc_supp_pay_project
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_OPENAI_DEPLOYMENT_NAME: gpt-4o
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_OPENAI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_PROJECT_NAME: jamesbas_dxc_supp_pay_project
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_RESOURCE_GROUP: rg-jamesbas-2315_ai
2025-04-15 17:22:29,787 - __main__ - INFO - Environment variable AZURE_SUBSCRIPTION_ID: 2678d36e-00a6-455f-8f47-d524ef09e674
2025-04-15 17:22:33,532 - __main__ - INFO - 

==== STARTING TESTS ====


2025-04-15 17:22:33,534 - __main__ - INFO - Test configuration: debug=False, test-model=None, disable-tools=False
2025-04-15 17:22:33,534 - __main__ - INFO - 
Testing the intelligent orchestrator...
2025-04-15 17:22:33,534 - __main__ - INFO - 
=== Testing Intelligent Orchestrator Agent ===

2025-04-15 17:22:33,534 - __main__ - INFO - Initializing Azure Agent Orchestrator...
2025-04-15 17:22:33,534 - AzureAgentOrchestrator - INFO - Using provided configuration dictionary
2025-04-15 17:22:33,535 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:22:33,544 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:22:33,545 - AzureAgentOrchestrator - INFO - Successfully initialized AIProjectClient
2025-04-15 17:22:33,545 - AzureAgentOrchestrator - WARNING - No agent ID found for role: hr
2025-04-15 17:22:33,545 - AzureAgentOrchestrator - WARNING - No agent ID found for role: manager
2025-04-15 17:22:33,546 - AzureAgentOrchestrator - WARNING - No agent ID found for role: payroll
2025-04-15 17:22:33,546 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:22:33,547 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:22:33,547 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:22:33,547 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:22:33,548 - AzureAgentOrchestrator - INFO - Azure Agent Orchestrator initialized
2025-04-15 17:22:33,548 - AzureAgentOrchestrator - INFO - Using data directory: data
2025-04-15 17:22:33,548 - AzureAgentOrchestrator - ERROR - Failed to initialize tool executor: 'str' object has no attribute 'get'
2025-04-15 17:22:34,967 - AzureAgentOrchestrator - INFO - Initialized Azure OpenAI service with model: gpt-4o
2025-04-15 17:22:35,076 - src.orchestration.azure_agent_orchestrator - INFO - Created routing function using KernelFunction.from_prompt
2025-04-15 17:22:35,076 - __main__ - INFO - Available agent IDs: {}
2025-04-15 17:22:35,076 - __main__ - INFO - Deploying agents...
2025-04-15 17:22:35,077 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:22:35,077 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:22:35,077 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:22:35,077 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:22:35,077 - src.orchestration.azure_agent_definitions - INFO - Deploying agents to Azure AI Agent Service
2025-04-15 17:22:35,077 - src.orchestration.azure_agent_definitions - INFO - Successfully initialized AIProjectClient for file uploads
2025-04-15 17:22:35,077 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:22:38,078 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:22:38,080 - src.orchestration.azure_agent_definitions - INFO - Found 3 Excel/CSV files: Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx, UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx, UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:22:38,080 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx
2025-04-15 17:22:39,967 - azure.identity._internal.decorators - INFO - AzureCliCredential.get_token_info succeeded
2025-04-15 17:22:39,967 - azure.identity._credentials.default - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:22:39,967 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c18af5c2-1a3f-11f0-bf38-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:42,191 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:41 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:42,191 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx with ID: assistant-86ZqWCd9ai2hH4pdoBLvbb
2025-04-15 17:22:42,191 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx
2025-04-15 17:22:42,191 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c3fd87ac-1a3f-11f0-9877-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:43,808 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:43 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:43,809 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx with ID: assistant-23VaZqKjAJ3Gjzj82yKk9c
2025-04-15 17:22:43,809 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:22:43,811 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c4f4a147-1a3f-11f0-9bfb-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:45,064 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:44 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:45,064 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK Standby_Callout_Overtime_Shift_Payment.xlsx with ID: assistant-47JVvMkjNVgb6biQNkjhDM
2025-04-15 17:22:45,064 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded 3 Excel files for Code Interpreter
2025-04-15 17:22:45,064 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: policy_extraction_agent
2025-04-15 17:22:45,064 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:22:45,081 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1544'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c5b65e4a-1a3f-11f0-a40e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:45,593 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:45 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:45,593 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent policy_extraction_agent with ID asst_Vzx3ntCN4yxnuAsfUq2ZaRuI
2025-04-15 17:22:45,593 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: pay_calculation_agent
2025-04-15 17:22:45,593 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:22:45,593 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '7014'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c60489a4-1a3f-11f0-8940-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:46,040 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:45 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:46,040 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent pay_calculation_agent with ID asst_12AxGKh9AJVH4yaDJbmTPs6O
2025-04-15 17:22:46,056 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: analytics_agent
2025-04-15 17:22:46,056 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:22:46,056 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1465'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c64b2bea-1a3f-11f0-82fe-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:46,556 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:46 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:46,557 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent analytics_agent with ID asst_sNjFAoy0BoYZcJNjPV0NkfwP
2025-04-15 17:22:46,558 - __main__ - INFO - Deployed agent IDs: {'policy_extraction_agent': 'asst_Vzx3ntCN4yxnuAsfUq2ZaRuI', 'pay_calculation_agent': 'asst_12AxGKh9AJVH4yaDJbmTPs6O', 'analytics_agent': 'asst_sNjFAoy0BoYZcJNjPV0NkfwP'}
2025-04-15 17:22:46,558 - __main__ - INFO - 
Testing orchestrator with query: What are the current standby payment policies for UK employees?
2025-04-15 17:22:46,558 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:22:46,559 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:22:47,480 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:22:47,487 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=58, prompt_tokens=267, total_tokens=325, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:22:47,487 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:22:47,487 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 0.934566s
2025-04-15 17:22:47,495 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 0.94 seconds
2025-04-15 17:22:47,495 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'What are the current standby payment policies for ...' -> Primary: policy_extraction_agent, Confidence: 0.95, Secondary: []
2025-04-15 17:22:47,495 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The user is asking specifically about standby payment policies for UK employees, which falls under policy-related queries."
}
2025-04-15 17:22:47,495 - AzureAgentOrchestrator - INFO - Routing request: What are the current standby payment policies for UK employees?
2025-04-15 17:22:47,495 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:22:47,495 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The user is asking specifically about standby payment policies for UK employees, which falls under policy-related queries."
}
2025-04-15 17:22:47,496 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_Vzx3ntCN4yxnuAsfUq2ZaRuI
2025-04-15 17:22:47,498 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:22:50,270 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:22:50,270 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c72702f6-1a3f-11f0-a906-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:50,718 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:50 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:22:50,719 - AzureAgentOrchestrator - INFO - Created thread: thread_lyuBzrucJVfXTrmgtiqaLH6N
2025-04-15 17:22:50,719 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '302'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c912b8ea-1a3f-11f0-a256-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:51,015 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:50 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:51,019 - AzureAgentOrchestrator - INFO - Added message to thread: thread_lyuBzrucJVfXTrmgtiqaLH6N
2025-04-15 17:22:51,020 - AzureAgentOrchestrator - INFO - Running agent asst_Vzx3ntCN4yxnuAsfUq2ZaRuI on thread thread_lyuBzrucJVfXTrmgtiqaLH6N
2025-04-15 17:22:51,020 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c940a5c8-1a3f-11f0-a14c-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:22:52,132 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:51 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:52,148 - AzureAgentOrchestrator - INFO - Created run run_iSv2deA1gayucFvdNuNRdoXk with status: RunStatus.QUEUED
2025-04-15 17:22:52,148 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c9ecd867-1a3f-11f0-bd34-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:22:52,452 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:52 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:53,454 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'cab41fd8-1a3f-11f0-99c7-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:22:53,743 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:53 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:22:55,751 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'cc1285f2-1a3f-11f0-83ce-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:22:56,091 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:22:55 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:00,108 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ceab6255-1a3f-11f0-9a29-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:00,347 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:00 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:08,372 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'd3986548-1a3f-11f0-b1cf-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:08,677 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:08 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:24,689 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/runs/run_iSv2deA1gayucFvdNuNRdoXk?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dd522295-1a3f-11f0-b3e6-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:25,058 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:24 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:25,059 - AzureAgentOrchestrator - INFO - Run completed successfully: run_iSv2deA1gayucFvdNuNRdoXk
2025-04-15 17:23:25,060 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_lyuBzrucJVfXTrmgtiqaLH6N/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dd8abf07-1a3f-11f0-a4b1-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:25,428 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:25 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:25,430 - __main__ - INFO - [CORRECT] Routing: What are the current standby payment policies for UK employees? -> policy_extraction_agent
2025-04-15 17:23:25,431 - __main__ - INFO - Response from policy_extraction_agent:
The core and extended document properties from the `docProps` folder provide metadata about the files. There are mentions of titles such as "UK Payment Terms Explained" and "UK Payment Terms pp", which indicate that the files might concern payment terms for UK employees. However, the extracted metad...

2025-04-15 17:23:25,433 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_1.txt
2025-04-15 17:23:25,434 - __main__ - INFO - 
Testing orchestrator with query: Calculate the appropriate supplemental pay for overtime work for employee 10000518
2025-04-15 17:23:25,434 - __main__ - INFO - Expected agent: pay_calculation_agent
2025-04-15 17:23:25,434 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:23:26,526 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:23:26,526 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=86, prompt_tokens=270, total_tokens=356, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:23:26,526 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:23:26,526 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.102963s
2025-04-15 17:23:26,526 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.09 seconds
2025-04-15 17:23:26,526 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'Calculate the appropriate supplemental pay for ove...' -> Primary: pay_calculation_agent, Confidence: 0.95, Secondary: ['policy_extraction_agent']
2025-04-15 17:23:26,526 - __main__ - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.95,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query involves calculating supplemental pay for overtime work, which primarily falls under pay_calculation_agent's expertise. However, policy_extraction_agent may provide relevant details on overtime eligibility and the applicable policies for supplemental pay calculation."
}
2025-04-15 17:23:26,526 - AzureAgentOrchestrator - INFO - Routing request: Calculate the appropriate supplemental pay for overtime work for employee 10000518
2025-04-15 17:23:26,526 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: pay_calculation_agent
2025-04-15 17:23:26,526 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.95,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query involves calculating supplemental pay for overtime work, which primarily falls under pay_calculation_agent's expertise. However, policy_extraction_agent may provide relevant details on overtime eligibility and the applicable policies for supplemental pay calculation."
}
2025-04-15 17:23:26,541 - AzureAgentOrchestrator - INFO - Selected agent: pay_calculation_agent with ID: asst_12AxGKh9AJVH4yaDJbmTPs6O
2025-04-15 17:23:26,541 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'de6cc4f1-1a3f-11f0-8b83-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:26,804 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:26 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:23:26,804 - AzureAgentOrchestrator - INFO - Created thread: thread_OhwMOIrUOYyH0GdZR06jU0Ry
2025-04-15 17:23:26,808 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '923'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'de9567c7-1a3f-11f0-b3f2-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:27,108 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:26 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:27,109 - AzureAgentOrchestrator - INFO - Added message to thread: thread_OhwMOIrUOYyH0GdZR06jU0Ry
2025-04-15 17:23:27,109 - AzureAgentOrchestrator - INFO - Running agent asst_12AxGKh9AJVH4yaDJbmTPs6O on thread thread_OhwMOIrUOYyH0GdZR06jU0Ry
2025-04-15 17:23:27,109 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dec370c8-1a3f-11f0-b541-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:28,312 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:28 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:28,313 - AzureAgentOrchestrator - INFO - Created run run_k6B3oIy5iEIk3sBn0oSjnNKO with status: RunStatus.QUEUED
2025-04-15 17:23:28,313 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'df7b2769-1a3f-11f0-8b68-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:28,562 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:28 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:29,575 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e03bbbea-1a3f-11f0-b593-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:29,843 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:29 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:31,859 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e19841a7-1a3f-11f0-9309-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:32,165 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:36,178 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e42b3883-1a3f-11f0-8697-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:36,464 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:36 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:44,472 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e91cc0e5-1a3f-11f0-a61b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:44,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:44 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:44,765 - AzureAgentOrchestrator - ERROR - Run run_k6B3oIy5iEIk3sBn0oSjnNKO ended with status: RunStatus.FAILED
2025-04-15 17:23:44,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_OhwMOIrUOYyH0GdZR06jU0Ry/runs/run_k6B3oIy5iEIk3sBn0oSjnNKO/steps?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e94974f6-1a3f-11f0-8341-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:45,042 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:44 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '96'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:23:45,044 - __main__ - INFO - [CORRECT] Routing: Calculate the appropriate supplemental pay for overtime work for employee 10000518 -> pay_calculation_agent
2025-04-15 17:23:45,044 - __main__ - ERROR - Error in response: Run run_k6B3oIy5iEIk3sBn0oSjnNKO ended with status: RunStatus.FAILED
2025-04-15 17:23:45,044 - __main__ - INFO - 
Testing orchestrator with query: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ?
2025-04-15 17:23:45,044 - __main__ - INFO - Expected agent: pay_calculation_agent
2025-04-15 17:23:45,044 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:23:46,035 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:23:46,036 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=89, prompt_tokens=282, total_tokens=371, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:23:46,037 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:23:46,038 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 0.992749s
2025-04-15 17:23:46,038 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.00 seconds
2025-04-15 17:23:46,039 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'I have an employee.  Based on the payment term, wh...' -> Primary: pay_calculation_agent, Confidence: 0.9, Secondary: ['policy_extraction_agent']
2025-04-15 17:23:46,039 - __main__ - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The user is asking for overtime and standby calculations, which primarily fall under pay calculation. However, the policy regarding payment terms may also need to be referenced to understand eligibility and calculation rules for the employee with ID 10002329."
}
2025-04-15 17:23:46,039 - AzureAgentOrchestrator - INFO - Routing request: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ?
2025-04-15 17:23:46,040 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: pay_calculation_agent
2025-04-15 17:23:46,040 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The user is asking for overtime and standby calculations, which primarily fall under pay calculation. However, the policy regarding payment terms may also need to be referenced to understand eligibility and calculation rules for the employee with ID 10002329."
}
2025-04-15 17:23:46,041 - AzureAgentOrchestrator - INFO - Selected agent: pay_calculation_agent with ID: asst_12AxGKh9AJVH4yaDJbmTPs6O
2025-04-15 17:23:46,042 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ea0c32a4-1a3f-11f0-b552-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:46,307 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:46 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:23:46,308 - AzureAgentOrchestrator - INFO - Created thread: thread_mikPH9pIRhYHheITE4FLB3PN
2025-04-15 17:23:46,309 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '925'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ea350d35-1a3f-11f0-b465-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:46,545 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:46 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:46,546 - AzureAgentOrchestrator - INFO - Added message to thread: thread_mikPH9pIRhYHheITE4FLB3PN
2025-04-15 17:23:46,546 - AzureAgentOrchestrator - INFO - Running agent asst_12AxGKh9AJVH4yaDJbmTPs6O on thread thread_mikPH9pIRhYHheITE4FLB3PN
2025-04-15 17:23:46,547 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ea59743a-1a3f-11f0-b7f5-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:47,530 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:47 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:47,531 - AzureAgentOrchestrator - INFO - Created run run_Bsxj80N840y2z4Z0cyEv3fO1 with status: RunStatus.QUEUED
2025-04-15 17:23:47,531 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs/run_Bsxj80N840y2z4Z0cyEv3fO1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'eaef978e-1a3f-11f0-8d84-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:47,824 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:47 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:48,831 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs/run_Bsxj80N840y2z4Z0cyEv3fO1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ebb5c99d-1a3f-11f0-83d1-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:49,250 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:49 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:51,250 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs/run_Bsxj80N840y2z4Z0cyEv3fO1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ed2706d3-1a3f-11f0-8140-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:51,571 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:51 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:55,582 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs/run_Bsxj80N840y2z4Z0cyEv3fO1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efbbdd09-1a3f-11f0-9cb9-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:55,883 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:55 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:55,900 - AzureAgentOrchestrator - ERROR - Run run_Bsxj80N840y2z4Z0cyEv3fO1 ended with status: RunStatus.FAILED
2025-04-15 17:23:55,901 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_mikPH9pIRhYHheITE4FLB3PN/runs/run_Bsxj80N840y2z4Z0cyEv3fO1/steps?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efecabd1-1a3f-11f0-8899-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:56,204 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:55 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '96'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:23:56,205 - __main__ - INFO - [CORRECT] Routing: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ? -> pay_calculation_agent
2025-04-15 17:23:56,205 - __main__ - ERROR - Error in response: Run run_Bsxj80N840y2z4Z0cyEv3fO1 ended with status: RunStatus.FAILED
2025-04-15 17:23:56,205 - __main__ - INFO - 
Testing orchestrator with query: Identify trends in supplemental pay over the last quarter
2025-04-15 17:23:56,205 - __main__ - INFO - Expected agent: analytics_agent
2025-04-15 17:23:56,206 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:23:57,509 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:23:57,515 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=79, prompt_tokens=265, total_tokens=344, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:23:57,515 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:23:57,515 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.310545s
2025-04-15 17:23:57,515 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.31 seconds
2025-04-15 17:23:57,515 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'Identify trends in supplemental pay over the last ...' -> Primary: analytics_agent, Confidence: 0.95, Secondary: []
2025-04-15 17:23:57,515 - __main__ - INFO - Routing decision: {
  "primary_agent": "analytics_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The user is requesting an analysis of trends in supplemental pay for the last quarter, which falls within the scope of the analytics_agent. Ensure any relevant historical data and reports related to supplemental pay are included in the analysis."
}
2025-04-15 17:23:57,515 - AzureAgentOrchestrator - INFO - Routing request: Identify trends in supplemental pay over the last quarter
2025-04-15 17:23:57,515 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: analytics_agent
2025-04-15 17:23:57,515 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "analytics_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The user is requesting an analysis of trends in supplemental pay for the last quarter, which falls within the scope of the analytics_agent. Ensure any relevant historical data and reports related to supplemental pay are included in the analysis."
}
2025-04-15 17:23:57,519 - AzureAgentOrchestrator - INFO - Selected agent: analytics_agent with ID: asst_sNjFAoy0BoYZcJNjPV0NkfwP
2025-04-15 17:23:57,519 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f0e397a7-1a3f-11f0-b01d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:57,829 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:57 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:23:57,829 - AzureAgentOrchestrator - INFO - Created thread: thread_qRFsPrGdRUSQuV3K9aQ03sjj
2025-04-15 17:23:57,832 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '411'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f1136e10-1a3f-11f0-8c26-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:58,167 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:57 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:58,169 - AzureAgentOrchestrator - INFO - Added message to thread: thread_qRFsPrGdRUSQuV3K9aQ03sjj
2025-04-15 17:23:58,169 - AzureAgentOrchestrator - INFO - Running agent asst_sNjFAoy0BoYZcJNjPV0NkfwP on thread thread_qRFsPrGdRUSQuV3K9aQ03sjj
2025-04-15 17:23:58,169 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f146be8a-1a3f-11f0-a90d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:23:59,285 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:59 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:23:59,285 - AzureAgentOrchestrator - INFO - Created run run_hwE0vTY735l2ZkGUBDTs9AQ7 with status: RunStatus.QUEUED
2025-04-15 17:23:59,285 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f1f11e4a-1a3f-11f0-8e95-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:23:59,641 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:23:59 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:00,643 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f2c03ecb-1a3f-11f0-8441-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:00,934 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:00 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:02,941 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f41f0158-1a3f-11f0-afa6-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:03,165 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:02 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:07,171 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'f6a44fb0-1a3f-11f0-92ef-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:07,437 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:07 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:15,450 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'fb93961b-1a3f-11f0-9e72-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:15,910 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:15 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:31,927 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/runs/run_hwE0vTY735l2ZkGUBDTs9AQ7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '0565caf7-1a40-11f0-8f4b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:32,169 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:32,171 - AzureAgentOrchestrator - INFO - Run completed successfully: run_hwE0vTY735l2ZkGUBDTs9AQ7
2025-04-15 17:24:32,172 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_qRFsPrGdRUSQuV3K9aQ03sjj/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '058b1f05-1a40-11f0-b4c8-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:32,482 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:32 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:32,486 - __main__ - INFO - [CORRECT] Routing: Identify trends in supplemental pay over the last quarter -> analytics_agent
2025-04-15 17:24:32,486 - __main__ - INFO - Response from analytics_agent:
The bar chart clearly illustrates a sharp drop in supplemental pay following September 2024, with October and November showing relatively consistent figures significantly lower than September. This trend suggests a decrease in supplemental pay-related activities or variations influenced by specific ...

2025-04-15 17:24:32,489 - __main__ - INFO - Full response saved to responses/response_analytics_agent_4.txt
2025-04-15 17:24:32,489 - __main__ - INFO - 
Testing orchestrator with query: For a UK employee working standby, what payment should they receive and what policy covers this?
2025-04-15 17:24:32,490 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:24:32,490 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:24:33,577 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:24:33,578 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=89, prompt_tokens=274, total_tokens=363, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:24:33,579 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:24:33,580 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.089136s
2025-04-15 17:24:33,580 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.08 seconds
2025-04-15 17:24:33,580 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'For a UK employee working standby, what payment sh...' -> Primary: policy_extraction_agent, Confidence: 0.9, Secondary: ['pay_calculation_agent']
2025-04-15 17:24:33,581 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user is asking about the payment for standby and the policy covering it for a UK employee. The policy_extraction_agent will primarily handle identifying policy details, while the pay_calculation_agent can support with specifics on calculating the payment based on the policy."
}
2025-04-15 17:24:33,582 - AzureAgentOrchestrator - INFO - Routing request: For a UK employee working standby, what payment should they receive and what policy covers this?
2025-04-15 17:24:33,582 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:24:33,582 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user is asking about the payment for standby and the policy covering it for a UK employee. The policy_extraction_agent will primarily handle identifying policy details, while the pay_calculation_agent can support with specifics on calculating the payment based on the policy."
}
2025-04-15 17:24:33,583 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_Vzx3ntCN4yxnuAsfUq2ZaRuI
2025-04-15 17:24:33,585 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': '0662a38f-1a40-11f0-8efe-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:33,893 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:33 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:24:33,894 - AzureAgentOrchestrator - INFO - Created thread: thread_HkoZ6cjdzj75L5yS9ANJIcAy
2025-04-15 17:24:33,895 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '491'
    'Accept': 'application/json'
    'x-ms-client-request-id': '0692147f-1a40-11f0-b490-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:34,213 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:33 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:34,215 - AzureAgentOrchestrator - INFO - Added message to thread: thread_HkoZ6cjdzj75L5yS9ANJIcAy
2025-04-15 17:24:34,216 - AzureAgentOrchestrator - INFO - Running agent asst_Vzx3ntCN4yxnuAsfUq2ZaRuI on thread thread_HkoZ6cjdzj75L5yS9ANJIcAy
2025-04-15 17:24:34,217 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': '06c3541f-1a40-11f0-ade5-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:35,255 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:34 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:35,256 - AzureAgentOrchestrator - INFO - Created run run_YW3MBn9NJaylMTUY4JcGr1HM with status: RunStatus.QUEUED
2025-04-15 17:24:35,257 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs/run_YW3MBn9NJaylMTUY4JcGr1HM?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '0761e8d0-1a40-11f0-bdb3-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:35,521 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:35 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:36,527 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs/run_YW3MBn9NJaylMTUY4JcGr1HM?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '0823b6d2-1a40-11f0-9dbf-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:36,770 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:36 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:38,779 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs/run_YW3MBn9NJaylMTUY4JcGr1HM?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '097b5d87-1a40-11f0-8e0b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:39,255 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:38 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:43,262 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs/run_YW3MBn9NJaylMTUY4JcGr1HM?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '0c275fbf-1a40-11f0-919b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:43,672 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:43 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:51,681 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/runs/run_YW3MBn9NJaylMTUY4JcGr1HM?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '112c081d-1a40-11f0-95b0-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:51,957 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:51 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:51,959 - AzureAgentOrchestrator - INFO - Run completed successfully: run_YW3MBn9NJaylMTUY4JcGr1HM
2025-04-15 17:24:51,959 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_HkoZ6cjdzj75L5yS9ANJIcAy/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '11568f4b-1a40-11f0-8484-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:52,322 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:52 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:52,324 - __main__ - INFO - [CORRECT] Routing: For a UK employee working standby, what payment should they receive and what policy covers this? -> policy_extraction_agent
2025-04-15 17:24:52,324 - __main__ - INFO - Response from policy_extraction_agent:
The extracted text does not contain references directly mentioning "payment" or "UK employees." This may indicate that the format or language of the documents differs, or the relevant content is not explicitly stated in the extracted text.

Would you like me to investigate further using file-specifi...

2025-04-15 17:24:52,327 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_5.txt
2025-04-15 17:24:52,327 - __main__ - INFO - 
Testing orchestrator with query: I need help with a payment issue related to policies
2025-04-15 17:24:52,328 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:24:52,328 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:24:53,319 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:24:53,320 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=66, prompt_tokens=266, total_tokens=332, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:24:53,321 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:24:53,321 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 0.992170s
2025-04-15 17:24:53,322 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.00 seconds
2025-04-15 17:24:53,322 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'I need help with a payment issue related to polici...' -> Primary: policy_extraction_agent, Confidence: 0.9, Secondary: ['pay_calculation_agent']
2025-04-15 17:24:53,322 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user has a payment issue that seems to involve policies, possibly requiring clarification about policy rules that affect payment calculations."
}
2025-04-15 17:24:53,323 - AzureAgentOrchestrator - INFO - Routing request: I need help with a payment issue related to policies
2025-04-15 17:24:53,323 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:24:53,323 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user has a payment issue that seems to involve policies, possibly requiring clarification about policy rules that affect payment calculations."
}
2025-04-15 17:24:53,323 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_Vzx3ntCN4yxnuAsfUq2ZaRuI
2025-04-15 17:24:53,324 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': '1226d157-1a40-11f0-9d35-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:53,600 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:53 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:24:53,600 - AzureAgentOrchestrator - INFO - Created thread: thread_1hj9T9a8UuiY6AJOgF2ZuYQQ
2025-04-15 17:24:53,600 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '314'
    'Accept': 'application/json'
    'x-ms-client-request-id': '1250cfdd-1a40-11f0-996a-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:53,883 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:53 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:53,883 - AzureAgentOrchestrator - INFO - Added message to thread: thread_1hj9T9a8UuiY6AJOgF2ZuYQQ
2025-04-15 17:24:53,883 - AzureAgentOrchestrator - INFO - Running agent asst_Vzx3ntCN4yxnuAsfUq2ZaRuI on thread thread_1hj9T9a8UuiY6AJOgF2ZuYQQ
2025-04-15 17:24:53,883 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': '127c086a-1a40-11f0-b76e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:24:55,239 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:54 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:55,240 - AzureAgentOrchestrator - INFO - Created run run_oFVSjOfrDYzgDKJxT6K4Ypnp with status: RunStatus.QUEUED
2025-04-15 17:24:55,241 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs/run_oFVSjOfrDYzgDKJxT6K4Ypnp?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '134b3ace-1a40-11f0-9c7d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:55,553 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:55 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:56,561 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs/run_oFVSjOfrDYzgDKJxT6K4Ypnp?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1414bb06-1a40-11f0-8fc8-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:56,824 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:56 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:24:58,832 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs/run_oFVSjOfrDYzgDKJxT6K4Ypnp?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '156f3ef2-1a40-11f0-95d3-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:24:59,084 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:24:58 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:25:03,102 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs/run_oFVSjOfrDYzgDKJxT6K4Ypnp?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '17fabade-1a40-11f0-9f8f-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:25:03,378 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:25:03 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:25:11,395 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/runs/run_oFVSjOfrDYzgDKJxT6K4Ypnp?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1cec25b0-1a40-11f0-9d70-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:25:11,730 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:25:11 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:25:11,731 - AzureAgentOrchestrator - INFO - Run completed successfully: run_oFVSjOfrDYzgDKJxT6K4Ypnp
2025-04-15 17:25:11,732 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_1hj9T9a8UuiY6AJOgF2ZuYQQ/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1d1fa656-1a40-11f0-8144-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:25:12,052 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:25:11 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:25:12,053 - __main__ - INFO - [CORRECT] Routing: I need help with a payment issue related to policies -> policy_extraction_agent
2025-04-15 17:25:12,053 - __main__ - INFO - Response from policy_extraction_agent:
The extracted data contains various XML files with information relevant to payment policies, such as notes on specific payment terms, structure of pay groups, and clarification comments. Key sections include:

1. **Comment Section (xl/comments1.xml)**:
   - Standby:
     - Weekdays: 30 for a 24-hou...

2025-04-15 17:25:12,055 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_6.txt
2025-04-15 17:25:12,056 - __main__ - INFO - 
Intelligent Orchestrator Test Summary: 6/6 correct routings
2025-04-15 17:25:12,056 - __main__ - INFO - Intelligent orchestrator test: 6/6 correct routings
2025-04-15 17:25:12,056 - __main__ - INFO - [+] Test 1: Policy extraction query - routed to policy_extraction_agent
2025-04-15 17:25:12,057 - __main__ - INFO - [+] Test 2: Pay calculation query - routed to pay_calculation_agent
2025-04-15 17:25:12,057 - __main__ - INFO - [+] Test 3: Pay calculation query - routed to pay_calculation_agent
2025-04-15 17:25:12,057 - __main__ - INFO - [+] Test 4: Analytics query - routed to analytics_agent
2025-04-15 17:25:12,058 - __main__ - INFO - [+] Test 5: Mixed policy and calculation query - routed to policy_extraction_agent
2025-04-15 17:25:12,058 - __main__ - INFO - [+] Test 6: Ambiguous query for testing fallback - routed to policy_extraction_agent
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_AI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_AI_HOSTNAME: eastus2.api.azureml.ms
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_AI_PROJECT_ID: eastus2.api.azureml.ms;2678d36e-00a6-455f-8f47-d524ef09e674;rg-jamesbas-2315_ai;jamesbas_dxc_supp_pay_project
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_OPENAI_DEPLOYMENT_NAME: gpt-4o
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_OPENAI_ENDPOINT: https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2025-01-01-preview
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_PROJECT_NAME: jamesbas_dxc_supp_pay_project
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_RESOURCE_GROUP: rg-jamesbas-2315_ai
2025-04-15 17:28:54,382 - __main__ - INFO - Environment variable AZURE_SUBSCRIPTION_ID: 2678d36e-00a6-455f-8f47-d524ef09e674
2025-04-15 17:28:57,751 - __main__ - INFO - 

==== STARTING TESTS ====


2025-04-15 17:28:57,751 - __main__ - INFO - Test configuration: debug=False, test-model=None, disable-tools=False
2025-04-15 17:28:57,751 - __main__ - INFO - 
Testing the intelligent orchestrator...
2025-04-15 17:28:57,751 - __main__ - INFO - 
=== Testing Intelligent Orchestrator Agent ===

2025-04-15 17:28:57,751 - __main__ - INFO - Initializing Azure Agent Orchestrator...
2025-04-15 17:28:57,751 - AzureAgentOrchestrator - INFO - Using provided configuration dictionary
2025-04-15 17:28:57,751 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:28:57,758 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:28:57,758 - AzureAgentOrchestrator - INFO - Successfully initialized AIProjectClient
2025-04-15 17:28:57,758 - AzureAgentOrchestrator - WARNING - No agent ID found for role: hr
2025-04-15 17:28:57,758 - AzureAgentOrchestrator - WARNING - No agent ID found for role: manager
2025-04-15 17:28:57,763 - AzureAgentOrchestrator - WARNING - No agent ID found for role: payroll
2025-04-15 17:28:57,763 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:28:57,763 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:28:57,764 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:28:57,764 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:28:57,764 - AzureAgentOrchestrator - INFO - Azure Agent Orchestrator initialized
2025-04-15 17:28:57,764 - AzureAgentOrchestrator - INFO - Using data directory: data
2025-04-15 17:28:57,764 - AzureAgentOrchestrator - ERROR - Failed to initialize tool executor: 'str' object has no attribute 'get'
2025-04-15 17:28:58,084 - AzureAgentOrchestrator - INFO - Initialized Azure OpenAI service with model: gpt-4o
2025-04-15 17:28:58,084 - src.orchestration.azure_agent_orchestrator - INFO - Created routing function using KernelFunction.from_prompt
2025-04-15 17:28:58,100 - __main__ - INFO - Available agent IDs: {}
2025-04-15 17:28:58,100 - __main__ - INFO - Deploying agents...
2025-04-15 17:28:58,100 - src.orchestration.azure_agent_definitions - INFO - Initializing Azure Agent Definitions
2025-04-15 17:28:58,100 - azure.identity._credentials.environment - INFO - No environment configuration found.
2025-04-15 17:28:58,102 - azure.identity._credentials.managed_identity - INFO - ManagedIdentityCredential will use IMDS
2025-04-15 17:28:58,102 - src.orchestration.azure_agent_definitions - INFO - Azure Agent Definitions initialized
2025-04-15 17:28:58,102 - src.orchestration.azure_agent_definitions - INFO - Deploying agents to Azure AI Agent Service
2025-04-15 17:28:58,103 - src.orchestration.azure_agent_definitions - INFO - Successfully initialized AIProjectClient for file uploads
2025-04-15 17:28:58,104 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:29:01,242 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:29:01,242 - src.orchestration.azure_agent_definitions - INFO - Found 3 Excel/CSV files: Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx, UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx, UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:29:01,242 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx
2025-04-15 17:29:03,176 - azure.identity._internal.decorators - INFO - AzureCliCredential.get_token_info succeeded
2025-04-15 17:29:03,183 - azure.identity._credentials.default - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:29:03,183 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a5ecdb69-1a40-11f0-9c2d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:05,207 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:04 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:05,212 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx with ID: assistant-LNcgvnvph6D6wCDBVjBtXr
2025-04-15 17:29:05,212 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx
2025-04-15 17:29:05,219 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a84ae85a-1a40-11f0-8d7e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:06,811 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:06 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:06,811 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx with ID: assistant-PRcMoz9rmJNcMxXkvYDG35
2025-04-15 17:29:06,811 - src.orchestration.azure_agent_definitions - INFO - Uploading file: data\UK Standby_Callout_Overtime_Shift_Payment.xlsx
2025-04-15 17:29:06,811 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/files?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a93dd111-1a40-11f0-a0a0-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:07,734 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:07 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Access-Control-Allow-Origin': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:07,734 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded UK Standby_Callout_Overtime_Shift_Payment.xlsx with ID: assistant-DCwxeUK3YZXa3HhoHANR7q
2025-04-15 17:29:07,734 - src.orchestration.azure_agent_definitions - INFO - Successfully uploaded 3 Excel files for Code Interpreter
2025-04-15 17:29:07,734 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: policy_extraction_agent
2025-04-15 17:29:07,734 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:29:07,734 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1544'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'a9caa6f6-1a40-11f0-baae-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:08,188 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:07 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:08,203 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent policy_extraction_agent with ID asst_uz4GQh95EwVQFMpo2O757ZWa
2025-04-15 17:29:08,203 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: pay_calculation_agent
2025-04-15 17:29:08,203 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:29:08,203 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '7014'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa124821-1a40-11f0-af9b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:08,662 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:08 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:08,662 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent pay_calculation_agent with ID asst_QAbbtMPYgz2IFPcnv7P7rUJ6
2025-04-15 17:29:08,662 - src.orchestration.azure_agent_definitions - INFO - Deploying agent: analytics_agent
2025-04-15 17:29:08,662 - src.orchestration.azure_agent_definitions - INFO - Using model: gpt-4o
2025-04-15 17:29:08,662 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/assistants?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1465'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aa583c36-1a40-11f0-b8e1-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:09,089 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:08 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:09,093 - src.orchestration.azure_agent_definitions - INFO - Successfully deployed agent analytics_agent with ID asst_1i6EsIKuhaFfN2zr0CTP4TvQ
2025-04-15 17:29:09,093 - __main__ - INFO - Deployed agent IDs: {'policy_extraction_agent': 'asst_uz4GQh95EwVQFMpo2O757ZWa', 'pay_calculation_agent': 'asst_QAbbtMPYgz2IFPcnv7P7rUJ6', 'analytics_agent': 'asst_1i6EsIKuhaFfN2zr0CTP4TvQ'}
2025-04-15 17:29:09,093 - __main__ - INFO - 
Testing orchestrator with query: What are the current standby payment policies for UK employees?
2025-04-15 17:29:09,093 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:29:09,093 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:29:10,042 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:29:10,054 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=61, prompt_tokens=267, total_tokens=328, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:29:10,054 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:29:10,054 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 0.960577s
2025-04-15 17:29:10,054 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 0.97 seconds
2025-04-15 17:29:10,054 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'What are the current standby payment policies for ...' -> Primary: policy_extraction_agent, Confidence: 0.95, Secondary: []
2025-04-15 17:29:10,054 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The query specifically asks about the standby payment policies for employees in the UK, which requires retrieving and explaining policy information."
}
2025-04-15 17:29:10,058 - AzureAgentOrchestrator - INFO - Routing request: What are the current standby payment policies for UK employees?
2025-04-15 17:29:10,058 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:29:10,059 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The query specifically asks about the standby payment policies for employees in the UK, which requires retrieving and explaining policy information."
}
2025-04-15 17:29:10,059 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_uz4GQh95EwVQFMpo2O757ZWa
2025-04-15 17:29:10,060 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=REDACTED&resource=REDACTED'
Request method: 'GET'
Request headers:
    'User-Agent': 'azsdk-python-identity/1.21.0 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
No body was attached to the request
2025-04-15 17:29:12,771 - azure.identity._credentials.chained - INFO - DefaultAzureCredential acquired a token from AzureCliCredential
2025-04-15 17:29:12,771 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ab2d91c4-1a40-11f0-8e4c-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:13,161 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:12 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:29:13,161 - AzureAgentOrchestrator - INFO - Created thread: thread_SYdrTtmVMAhD7Yp71PuOgE6u
2025-04-15 17:29:13,161 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '328'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad06bbc2-1a40-11f0-b3a2-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:13,495 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:13 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:13,495 - AzureAgentOrchestrator - INFO - Added message to thread: thread_SYdrTtmVMAhD7Yp71PuOgE6u
2025-04-15 17:29:13,495 - AzureAgentOrchestrator - INFO - Running agent asst_uz4GQh95EwVQFMpo2O757ZWa on thread thread_SYdrTtmVMAhD7Yp71PuOgE6u
2025-04-15 17:29:13,503 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ad39aa0e-1a40-11f0-a31f-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:14,618 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:14 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:14,618 - AzureAgentOrchestrator - INFO - Created run run_lFOXTBnT5gmpvSLpLICRejG8 with status: RunStatus.QUEUED
2025-04-15 17:29:14,623 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/runs/run_lFOXTBnT5gmpvSLpLICRejG8?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ade5c5d8-1a40-11f0-8241-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:14,946 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:14 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:15,955 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/runs/run_lFOXTBnT5gmpvSLpLICRejG8?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'aeb1128a-1a40-11f0-8827-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:16,394 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:16 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:18,400 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/runs/run_lFOXTBnT5gmpvSLpLICRejG8?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b0262124-1a40-11f0-9b45-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:18,711 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:18 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:22,718 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/runs/run_lFOXTBnT5gmpvSLpLICRejG8?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2b8a8be-1a40-11f0-a976-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:22,965 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:22 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:22,965 - AzureAgentOrchestrator - INFO - Run completed successfully: run_lFOXTBnT5gmpvSLpLICRejG8
2025-04-15 17:29:22,965 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_SYdrTtmVMAhD7Yp71PuOgE6u/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b2deab0f-1a40-11f0-8b2a-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:23,265 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:23 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:23,265 - __main__ - INFO - [CORRECT] Routing: What are the current standby payment policies for UK employees? -> policy_extraction_agent
2025-04-15 17:29:23,265 - __main__ - INFO - Response from policy_extraction_agent:
The uploaded files appear to be malformed and cannot be processed. Please ensure the files are properly formatted PDFs, or re-upload the documents in a readable format. Alternatively, if the content is located in another document type (e.g., Word, TXT), you can provide those versions for analysis. L...

2025-04-15 17:29:23,265 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_1.txt
2025-04-15 17:29:23,265 - __main__ - INFO - 
Testing orchestrator with query: Calculate the appropriate supplemental pay for overtime work for employee 10000518
2025-04-15 17:29:23,265 - __main__ - INFO - Expected agent: pay_calculation_agent
2025-04-15 17:29:23,265 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:29:24,360 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:29:24,360 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=82, prompt_tokens=270, total_tokens=352, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:29:24,360 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:29:24,360 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.084231s
2025-04-15 17:29:24,360 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.09 seconds
2025-04-15 17:29:24,360 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'Calculate the appropriate supplemental pay for ove...' -> Primary: pay_calculation_agent, Confidence: 0.95, Secondary: ['policy_extraction_agent']
2025-04-15 17:29:24,360 - __main__ - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.95,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query involves calculating supplemental pay for overtime work, which is primarily a pay calculation issue. However, policy details like eligibility or specific rules for overtime pay might also be required to ensure accurate calculation."
}
2025-04-15 17:29:24,360 - AzureAgentOrchestrator - INFO - Routing request: Calculate the appropriate supplemental pay for overtime work for employee 10000518
2025-04-15 17:29:24,360 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: pay_calculation_agent
2025-04-15 17:29:24,360 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.95,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query involves calculating supplemental pay for overtime work, which is primarily a pay calculation issue. However, policy details like eligibility or specific rules for overtime pay might also be required to ensure accurate calculation."
}
2025-04-15 17:29:24,360 - AzureAgentOrchestrator - INFO - Selected agent: pay_calculation_agent with ID: asst_QAbbtMPYgz2IFPcnv7P7rUJ6
2025-04-15 17:29:24,360 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b3b3926e-1a40-11f0-8a21-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:24,688 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:24 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:29:24,688 - AzureAgentOrchestrator - INFO - Created thread: thread_pgg04nBKwxvYAUDNlta8b5oO
2025-04-15 17:29:24,688 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '887'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b3e59b76-1a40-11f0-b1eb-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:25,007 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:24 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:25,007 - AzureAgentOrchestrator - INFO - Added message to thread: thread_pgg04nBKwxvYAUDNlta8b5oO
2025-04-15 17:29:25,007 - AzureAgentOrchestrator - INFO - Running agent asst_QAbbtMPYgz2IFPcnv7P7rUJ6 on thread thread_pgg04nBKwxvYAUDNlta8b5oO
2025-04-15 17:29:25,007 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b4164b35-1a40-11f0-a959-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:29:26,090 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:25 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:26,090 - AzureAgentOrchestrator - INFO - Created run run_WqZO0V7RozZG9bZg3dn8p6RK with status: RunStatus.QUEUED
2025-04-15 17:29:26,090 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b4bb9c17-1a40-11f0-90f9-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:26,447 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:26 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:27,449 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b58aefcd-1a40-11f0-9b0d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:27,794 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:27 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:29,806 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b6f29e1b-1a40-11f0-af05-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:30,122 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:29 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:34,138 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'b98785e5-1a40-11f0-97b8-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:34,516 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:34 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:42,528 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'be87dc3c-1a40-11f0-8302-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:42,859 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:42 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:29:58,868 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'c845249a-1a40-11f0-b951-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:29:59,131 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:29:58 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:29,145 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/runs/run_WqZO0V7RozZG9bZg3dn8p6RK?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'da510d86-1a40-11f0-a5e0-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:29,433 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:29 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:29,433 - AzureAgentOrchestrator - INFO - Run completed successfully: run_WqZO0V7RozZG9bZg3dn8p6RK
2025-04-15 17:30:29,433 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_pgg04nBKwxvYAUDNlta8b5oO/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'da7cf259-1a40-11f0-9a3e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:29,697 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:29 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:29,700 - __main__ - INFO - [CORRECT] Routing: Calculate the appropriate supplemental pay for overtime work for employee 10000518 -> pay_calculation_agent
2025-04-15 17:30:29,700 - __main__ - INFO - Response from pay_calculation_agent:
The supplemental pay for overtime work for Employee ID **10000518** has been computed as follows:

1. **Hours Worked (overtime):**
   - September 2024: 6 hours (paid maximum of 5 hours).
   - October 2024: 9.3 hours (paid maximum of 5 hours).
   - November 2024: 4 hours.
   - December 2024: 0 hours....

2025-04-15 17:30:29,700 - __main__ - INFO - Full response saved to responses/response_pay_calculation_agent_2.txt
2025-04-15 17:30:29,700 - __main__ - INFO - 
Testing orchestrator with query: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ?
2025-04-15 17:30:29,700 - __main__ - INFO - Expected agent: pay_calculation_agent
2025-04-15 17:30:29,700 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:30:30,939 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:30:30,939 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=86, prompt_tokens=282, total_tokens=368, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:30:30,939 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:30:30,939 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.240548s
2025-04-15 17:30:30,939 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.24 seconds
2025-04-15 17:30:30,939 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'I have an employee.  Based on the payment term, wh...' -> Primary: pay_calculation_agent, Confidence: 0.9, Secondary: ['policy_extraction_agent']
2025-04-15 17:30:30,939 - __main__ - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query is about calculating overtime and standby pay based on payment terms and involves both numerical calculations and understanding policy definitions for these payment categories. The employee ID 10002329 may also be relevant for specific eligibility requirements."
}
2025-04-15 17:30:30,939 - AzureAgentOrchestrator - INFO - Routing request: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ?
2025-04-15 17:30:30,939 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: pay_calculation_agent
2025-04-15 17:30:30,939 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "pay_calculation_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "policy_extraction_agent"
  ],
  "context": "The query is about calculating overtime and standby pay based on payment terms and involves both numerical calculations and understanding policy definitions for these payment categories. The employee ID 10002329 may also be relevant for specific eligibility requirements."
}
2025-04-15 17:30:30,939 - AzureAgentOrchestrator - INFO - Selected agent: pay_calculation_agent with ID: asst_QAbbtMPYgz2IFPcnv7P7rUJ6
2025-04-15 17:30:30,939 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'db62b3d2-1a40-11f0-a781-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:30:31,257 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:31 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:30:31,257 - AzureAgentOrchestrator - INFO - Created thread: thread_FeFBY1JuE30H0L5lmdCwSulL
2025-04-15 17:30:31,272 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '937'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'db957735-1a40-11f0-ba03-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:30:31,624 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:31,624 - AzureAgentOrchestrator - INFO - Added message to thread: thread_FeFBY1JuE30H0L5lmdCwSulL
2025-04-15 17:30:31,624 - AzureAgentOrchestrator - INFO - Running agent asst_QAbbtMPYgz2IFPcnv7P7rUJ6 on thread thread_FeFBY1JuE30H0L5lmdCwSulL
2025-04-15 17:30:31,624 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dbcb47fc-1a40-11f0-8880-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:30:32,698 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:32 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:32,706 - AzureAgentOrchestrator - INFO - Created run run_xfKjLIZnuEwmfY6ib4hxjmgw with status: RunStatus.QUEUED
2025-04-15 17:30:32,706 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dc70552e-1a40-11f0-9d02-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:33,262 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:33 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:34,266 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'dd5e5a0c-1a40-11f0-ab66-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:34,516 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:34 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:36,527 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'deb7762d-1a40-11f0-9886-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:36,855 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:36 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:40,856 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e14bf3cd-1a40-11f0-88e5-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:41,089 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:40 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:30:49,103 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'e63644df-1a40-11f0-b661-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:30:49,355 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:30:49 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:05,357 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': 'efe68046-1a40-11f0-bebd-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:05,767 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:05 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:35,782 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/runs/run_xfKjLIZnuEwmfY6ib4hxjmgw?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '02090df4-1a41-11f0-9195-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:36,067 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:35 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:36,067 - AzureAgentOrchestrator - INFO - Run completed successfully: run_xfKjLIZnuEwmfY6ib4hxjmgw
2025-04-15 17:31:36,067 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_FeFBY1JuE30H0L5lmdCwSulL/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '023465c2-1a41-11f0-89e1-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:36,335 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:36 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:36,335 - __main__ - INFO - [CORRECT] Routing: I have an employee.  Based on the payment term, what is Overtime and Standby calculation for 10002329 ? -> pay_calculation_agent
2025-04-15 17:31:36,335 - __main__ - INFO - Response from pay_calculation_agent:
For Employee ID `10002329`:

- **Regular Payment**: 4733.91 (based on regular hours worked calculated at the standard hourly rate of 58.66).
- **Overtime Payment**: 0.00 (no overtime hours claimable or worked above the maximum threshold of 5 hours as per policy rules).

### Breakdown:
1. **Worked...

2025-04-15 17:31:36,335 - __main__ - INFO - Full response saved to responses/response_pay_calculation_agent_3.txt
2025-04-15 17:31:36,335 - __main__ - INFO - 
Testing orchestrator with query: Identify trends in supplemental pay over the last quarter
2025-04-15 17:31:36,335 - __main__ - INFO - Expected agent: analytics_agent
2025-04-15 17:31:36,347 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:31:37,414 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:31:37,414 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=61, prompt_tokens=265, total_tokens=326, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:31:37,414 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:31:37,414 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.072253s
2025-04-15 17:31:37,414 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.06 seconds
2025-04-15 17:31:37,414 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'Identify trends in supplemental pay over the last ...' -> Primary: analytics_agent, Confidence: 0.95, Secondary: []
2025-04-15 17:31:37,414 - __main__ - INFO - Routing decision: {
  "primary_agent": "analytics_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The query involves identifying trends in supplemental pay data over the last quarter, which falls under the scope of analytics and data analysis."
}
2025-04-15 17:31:37,414 - AzureAgentOrchestrator - INFO - Routing request: Identify trends in supplemental pay over the last quarter
2025-04-15 17:31:37,414 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: analytics_agent
2025-04-15 17:31:37,414 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "analytics_agent",
  "confidence": 0.95,
  "secondary_agents": [],
  "context": "The query involves identifying trends in supplemental pay data over the last quarter, which falls under the scope of analytics and data analysis."
}
2025-04-15 17:31:37,414 - AzureAgentOrchestrator - INFO - Selected agent: analytics_agent with ID: asst_1i6EsIKuhaFfN2zr0CTP4TvQ
2025-04-15 17:31:37,414 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': '030214ce-1a41-11f0-887d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:31:37,691 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:37 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:31:37,691 - AzureAgentOrchestrator - INFO - Created thread: thread_rnQGJ5kB0npz6bn7C9N6ICY3
2025-04-15 17:31:37,691 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '311'
    'Accept': 'application/json'
    'x-ms-client-request-id': '032c3822-1a41-11f0-8b51-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:31:38,125 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:37 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:38,125 - AzureAgentOrchestrator - INFO - Added message to thread: thread_rnQGJ5kB0npz6bn7C9N6ICY3
2025-04-15 17:31:38,125 - AzureAgentOrchestrator - INFO - Running agent asst_1i6EsIKuhaFfN2zr0CTP4TvQ on thread thread_rnQGJ5kB0npz6bn7C9N6ICY3
2025-04-15 17:31:38,140 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': '036e74dd-1a41-11f0-b61e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:31:39,180 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:38 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:39,180 - AzureAgentOrchestrator - INFO - Created run run_m0gPCjWAL6grur6Ys0mAVfTz with status: RunStatus.QUEUED
2025-04-15 17:31:39,180 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '040f7bbb-1a41-11f0-8c61-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:39,509 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:39 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:40,518 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '04db945b-1a41-11f0-9d94-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:40,814 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:40 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:42,829 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '063c4744-1a41-11f0-8d70-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:43,073 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:42 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:47,078 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '08c4a505-1a41-11f0-b086-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:47,434 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:47 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:31:55,446 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '0dc17da3-1a41-11f0-ae3a-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:31:55,703 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:31:55 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:11,716 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/runs/run_m0gPCjWAL6grur6Ys0mAVfTz?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '177412d9-1a41-11f0-b419-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:11,995 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:11 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:11,995 - AzureAgentOrchestrator - INFO - Run completed successfully: run_m0gPCjWAL6grur6Ys0mAVfTz
2025-04-15 17:32:11,995 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_rnQGJ5kB0npz6bn7C9N6ICY3/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '179e970c-1a41-11f0-b63c-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:12,298 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:12 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:12,298 - __main__ - INFO - [CORRECT] Routing: Identify trends in supplemental pay over the last quarter -> analytics_agent
2025-04-15 17:32:12,314 - __main__ - INFO - Response from analytics_agent:
The aggregate supplemental pay across months shows significant variation:

1. **September**: 1,306,147 (highest due to greater hours worked and likely higher engagement).
2. **October**: 187,731 (a steep drop following September).
3. **November**: 195,348 (slight recovery from October).
4. **Dece...

2025-04-15 17:32:12,315 - __main__ - INFO - Full response saved to responses/response_analytics_agent_4.txt
2025-04-15 17:32:12,315 - __main__ - INFO - 
Testing orchestrator with query: For a UK employee working standby, what payment should they receive and what policy covers this?
2025-04-15 17:32:12,315 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:32:12,315 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:32:13,789 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:32:13,789 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=102, prompt_tokens=274, total_tokens=376, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:32:13,789 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:32:13,789 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.481912s
2025-04-15 17:32:13,789 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.48 seconds
2025-04-15 17:32:13,789 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'For a UK employee working standby, what payment sh...' -> Primary: policy_extraction_agent, Confidence: 0.9, Secondary: ['pay_calculation_agent']
2025-04-15 17:32:13,799 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The query involves understanding the policy that covers standby payment for a UK employee, as well as determining the specific payment amount for this type of work. The policy_extraction_agent should clarify the applicable policy, while the pay_calculation_agent can assist with calculating the exact payment based on the policy details."
}
2025-04-15 17:32:13,799 - AzureAgentOrchestrator - INFO - Routing request: For a UK employee working standby, what payment should they receive and what policy covers this?
2025-04-15 17:32:13,799 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:32:13,799 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The query involves understanding the policy that covers standby payment for a UK employee, as well as determining the specific payment amount for this type of work. The policy_extraction_agent should clarify the applicable policy, while the pay_calculation_agent can assist with calculating the exact payment based on the policy details."
}
2025-04-15 17:32:13,799 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_uz4GQh95EwVQFMpo2O757ZWa
2025-04-15 17:32:13,800 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': '18b215ff-1a41-11f0-911d-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:14,068 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:13 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:32:14,070 - AzureAgentOrchestrator - INFO - Created thread: thread_8Vb2paznqsovBmjGsmvK3lOm
2025-04-15 17:32:14,070 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '549'
    'Accept': 'application/json'
    'x-ms-client-request-id': '18db52e6-1a41-11f0-9a27-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:14,332 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:14 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:14,332 - AzureAgentOrchestrator - INFO - Added message to thread: thread_8Vb2paznqsovBmjGsmvK3lOm
2025-04-15 17:32:14,332 - AzureAgentOrchestrator - INFO - Running agent asst_uz4GQh95EwVQFMpo2O757ZWa on thread thread_8Vb2paznqsovBmjGsmvK3lOm
2025-04-15 17:32:14,332 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': '190336f9-1a41-11f0-aa13-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:15,495 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:15 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:15,495 - AzureAgentOrchestrator - INFO - Created run run_MvI1HdacYWNdsywyZhO0tloC with status: RunStatus.QUEUED
2025-04-15 17:32:15,495 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs/run_MvI1HdacYWNdsywyZhO0tloC?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '19b4c353-1a41-11f0-95f3-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:15,817 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:15 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:16,831 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs/run_MvI1HdacYWNdsywyZhO0tloC?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1a80a265-1a41-11f0-b96c-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:17,283 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:17 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:19,287 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs/run_MvI1HdacYWNdsywyZhO0tloC?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1bf7521c-1a41-11f0-ba12-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:19,534 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:19 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:23,541 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs/run_MvI1HdacYWNdsywyZhO0tloC?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '1e8066b6-1a41-11f0-89b8-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:23,798 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:23 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:31,813 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/runs/run_MvI1HdacYWNdsywyZhO0tloC?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '236e8ff7-1a41-11f0-a3e2-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:32,120 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:31 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:32,120 - AzureAgentOrchestrator - INFO - Run completed successfully: run_MvI1HdacYWNdsywyZhO0tloC
2025-04-15 17:32:32,120 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_8Vb2paznqsovBmjGsmvK3lOm/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '239d74ed-1a41-11f0-8d6c-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:32,556 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:32 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:32,556 - __main__ - INFO - [CORRECT] Routing: For a UK employee working standby, what payment should they receive and what policy covers this? -> policy_extraction_agent
2025-04-15 17:32:32,556 - __main__ - INFO - Response from policy_extraction_agent:
The files seem to have issues either with their format, structure, or corruption, preventing effective extraction of text. To proceed, I request confirmation or re-uploading the documents in a standard format (e.g., readable PDFs or text files).

Alternatively, if you can share the specific context ...

2025-04-15 17:32:32,556 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_5.txt
2025-04-15 17:32:32,556 - __main__ - INFO - 
Testing orchestrator with query: I need help with a payment issue related to policies
2025-04-15 17:32:32,556 - __main__ - INFO - Expected agent: policy_extraction_agent
2025-04-15 17:32:32,556 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query invoking.
2025-04-15 17:32:33,822 - httpx - INFO - HTTP Request: POST https://ai-jamesbasdxcdemohub813802416327.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-10-21 "HTTP/1.1 200 OK"
2025-04-15 17:32:33,822 - semantic_kernel.connectors.ai.open_ai.services.open_ai_handler - INFO - OpenAI usage: CompletionUsage(completion_tokens=90, prompt_tokens=266, total_tokens=356, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0))
2025-04-15 17:32:33,822 - semantic_kernel.functions.kernel_function - INFO - Function orchestrator-route_query succeeded.
2025-04-15 17:32:33,822 - semantic_kernel.functions.kernel_function - INFO - Function completed. Duration: 1.267817s
2025-04-15 17:32:33,822 - src.orchestration.azure_agent_orchestrator - INFO - Routing analysis completed in 1.26 seconds
2025-04-15 17:32:33,822 - src.orchestration.azure_agent_orchestrator - INFO - Query: 'I need help with a payment issue related to polici...' -> Primary: policy_extraction_agent, Confidence: 0.9, Secondary: ['pay_calculation_agent']
2025-04-15 17:32:33,822 - __main__ - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user mentioned a payment issue related to policies. The primary focus appears to be understanding policy details impacting the payment. Secondary analysis from the pay_calculation_agent may be useful if the issue involves how payments were calculated based on the policies."
}
2025-04-15 17:32:33,822 - AzureAgentOrchestrator - INFO - Routing request: I need help with a payment issue related to policies
2025-04-15 17:32:33,822 - src.orchestration.azure_agent_orchestrator - INFO - Using cached routing decision for similar query: policy_extraction_agent
2025-04-15 17:32:33,822 - AzureAgentOrchestrator - INFO - Routing decision: {
  "primary_agent": "policy_extraction_agent",
  "confidence": 0.9,
  "secondary_agents": [
    "pay_calculation_agent"
  ],
  "context": "The user mentioned a payment issue related to policies. The primary focus appears to be understanding policy details impacting the payment. Secondary analysis from the pay_calculation_agent may be useful if the issue involves how payments were calculated based on the policies."
}
2025-04-15 17:32:33,822 - AzureAgentOrchestrator - INFO - Selected agent: policy_extraction_agent with ID: asst_uz4GQh95EwVQFMpo2O757ZWa
2025-04-15 17:32:33,822 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '2'
    'Accept': 'application/json'
    'x-ms-client-request-id': '24a12799-1a41-11f0-ba8e-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:34,224 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:33 GMT'
    'Content-Type': 'application/json'
    'Content-Length': '137'
    'Connection': 'keep-alive'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
2025-04-15 17:32:34,224 - AzureAgentOrchestrator - INFO - Created thread: thread_GhgWgdlFF3LFNKhuval9dQHN
2025-04-15 17:32:34,224 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/messages?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '445'
    'Accept': 'application/json'
    'x-ms-client-request-id': '24de739f-1a41-11f0-af24-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:34,525 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:34 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:34,525 - AzureAgentOrchestrator - INFO - Added message to thread: thread_GhgWgdlFF3LFNKhuval9dQHN
2025-04-15 17:32:34,525 - AzureAgentOrchestrator - INFO - Running agent asst_uz4GQh95EwVQFMpo2O757ZWa on thread thread_GhgWgdlFF3LFNKhuval9dQHN
2025-04-15 17:32:34,525 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '66'
    'Accept': 'application/json'
    'x-ms-client-request-id': '250c7077-1a41-11f0-9099-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-04-15 17:32:36,007 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:35 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:36,007 - AzureAgentOrchestrator - INFO - Created run run_OA02w38zTfCuzOTOTrGaiVIa with status: RunStatus.QUEUED
2025-04-15 17:32:36,007 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '25ee92fe-1a41-11f0-8483-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:36,288 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:36 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:37,295 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '26b32a18-1a41-11f0-a49b-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:37,533 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:37 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:39,548 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '280af286-1a41-11f0-bbbc-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:39,846 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:39 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:43,859 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '2a9cbf5b-1a41-11f0-bb94-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:44,115 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:43 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:32:52,122 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '2f898327-1a41-11f0-aa71-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:32:52,401 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:32:52 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:33:08,402 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/runs/run_OA02w38zTfCuzOTOTrGaiVIa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '393d9de4-1a41-11f0-bcbd-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:33:08,769 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:33:08 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:33:08,769 - AzureAgentOrchestrator - INFO - Run completed successfully: run_OA02w38zTfCuzOTOTrGaiVIa
2025-04-15 17:33:08,769 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://eastus2.api.azureml.ms/agents/v1.0/subscriptions/2678d36e-00a6-455f-8f47-d524ef09e674/resourceGroups/rg-jamesbas-2315_ai/providers/Microsoft.MachineLearningServices/workspaces/jamesbas_dxc_supp_pay_project/threads/thread_GhgWgdlFF3LFNKhuval9dQHN/messages?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'Accept': 'application/json'
    'x-ms-client-request-id': '3975a2f1-1a41-11f0-b9fa-14755b7e8c4e'
    'User-Agent': 'azsdk-python-ai-projects/1.0.0b8 Python/3.11.9 (Windows-10-10.0.26100-SP0)'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-04-15 17:33:09,090 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Date': 'Tue, 15 Apr 2025 21:33:08 GMT'
    'Content-Type': 'application/json'
    'Transfer-Encoding': 'chunked'
    'Connection': 'keep-alive'
    'Vary': 'REDACTED'
    'Request-Context': 'REDACTED'
    'x-ms-response-type': 'REDACTED'
    'x-ms-middleware-request-id': 'REDACTED'
    'openai-version': 'REDACTED'
    'openai-organization': 'REDACTED'
    'X-Request-ID': 'REDACTED'
    'openai-processing-ms': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'X-Content-Type-Options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'x-aml-cluster': 'REDACTED'
    'x-request-time': 'REDACTED'
    'Content-Encoding': 'REDACTED'
2025-04-15 17:33:09,090 - __main__ - INFO - [CORRECT] Routing: I need help with a payment issue related to policies -> policy_extraction_agent
2025-04-15 17:33:09,090 - __main__ - INFO - Response from policy_extraction_agent:
To provide actionable insights, I need clarity about whether this uploaded file contains supplemental pay policies directly or serves as support for calculations. Could you confirm if the information in this file is directly tied to policy documents or supplemental pay calculations?

If tied to poli...

2025-04-15 17:33:09,090 - __main__ - INFO - Full response saved to responses/response_policy_extraction_agent_6.txt
2025-04-15 17:33:09,096 - __main__ - INFO - 
Intelligent Orchestrator Test Summary: 6/6 correct routings
2025-04-15 17:33:09,096 - __main__ - INFO - Intelligent orchestrator test: 6/6 correct routings
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 1: Policy extraction query - routed to policy_extraction_agent
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 2: Pay calculation query - routed to pay_calculation_agent
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 3: Pay calculation query - routed to pay_calculation_agent
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 4: Analytics query - routed to analytics_agent
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 5: Mixed policy and calculation query - routed to policy_extraction_agent
2025-04-15 17:33:09,096 - __main__ - INFO - [+] Test 6: Ambiguous query for testing fallback - routed to policy_extraction_agent
