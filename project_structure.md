# DXC Supplemental Pay AI Agent Project Structure

```
dxc-suppay-agent/
│
├── .cursorrules                     # Cursor AI configuration
├── .env                             # Environment variables (API keys, endpoints)
├── .github/                         # GitHub specific files
│   └── copilot-instructions.md      # Instructions for GitHub Copilot
├── README.md                        # Project documentation
├── requirements.txt                 # Python dependencies for the main application
├── architecture.md                  # System architecture documentation
├── project_structure.md             # Project structure documentation (This file)
├── app.py                           # Main Flask API server
├── purge_agents.py                  # Script to delete Azure AI Agents
├── run_orchestrator.py              # Script to run the orchestrator directly for testing
├── test_azure_agent_service.py      # Tests for Azure AI Agent Service integration
├── test_azure_agents.py             # Tests for individual Azure agent functionalities
├── test_openai_completion.py        # Tests for OpenAI completion interactions
├── test_orchestrator.py             # Tests for the orchestrator logic
├── api_server.log                   # Log file for the Flask API server
├── azure_agent_test.log             # Log file for Azure agent tests
├── agent_ids.json                   # Stores IDs of created Azure agents
│
├── config/                          # Configuration files
│   ├── agent_config.json            # Agent configuration settings
│   ├── local_file_config.json       # Configuration for local file data source
│   ├── semantic_kernel_config.json  # Configuration for Semantic Kernel
│   └── sharepoint_config.json       # Configuration for SharePoint data source
│
├── data/                            # Sample data files for processing
│   ├── Emp_Wage_Hours_Sep24_Oct24_Nov24_Dec24_Jan25_Feb25.xlsx
│   ├── UK EmpID_Legacy_Country_Payments_Hourly Rate.xlsx
│   └── UK Standby_Callout_Overtime_Shift_Payment.xlsx
│
├── function_app/                    # Azure Functions application
│   ├── README.md                    # README specific to the Azure Function
│   ├── function_app.py              # Main Azure Function code
│   ├── host.json                    # Azure Functions host configuration
│   ├── local.settings.json          # Local settings for Azure Function development
│   └── requirements.txt             # Python dependencies for the Azure Function
│
├── output/                          # Directory for output files generated by the system (currently empty)
│
├── responses/                       # Directory for storing agent responses (currently empty)
│
├── src/                             # Source code for the core application logic
│   ├── __init__.py
│   ├── simple_app.py                # Simplified version of the application (possibly for testing/demo)
│   │
│   ├── agents/                      # Agent implementations
│   │   ├── __init__.py
│   │   ├── agent_tool_executor.py   # Handles execution of tools used by agents
│   │   ├── analytics_agent.py       # Agent responsible for data analytics
│   │   ├── azure_agents_definition.py # Defines the structure and tools for Azure agents
│   │   ├── pay_calculation_agent.py # Agent responsible for pay calculations
│   │   └── policy_extraction_agent.py # Agent responsible for extracting policy information
│   │
│   ├── data_access/                 # Data access layer components
│   │   ├── __init__.py
│   │   ├── excel_processor.py       # Logic for processing Excel files
│   │   ├── local_file_connector.py  # Connector for accessing local files
│   │   └── sharepoint_connector.py  # Connector for accessing SharePoint files
│   │
│   ├── orchestration/               # Orchestration layer to manage agent interactions
│   │   ├── __init__.py
│   │   ├── azure_agent_definitions.py # Definitions for Azure agents used in orchestration
│   │   ├── azure_agent_orchestrator.py # Orchestrator using Azure AI Agent Service
│   │   └── orchestrator.py          # Base orchestrator class (potentially unused or legacy)
│   │
│   └── plugins/                     # Semantic Kernel plugins for specific tasks
│       ├── __init__.py
│       ├── analytics_plugin.py      # Plugin for analytics tasks
│       ├── calculation_plugin.py    # Plugin for calculation tasks
│       └── policy_plugin.py         # Plugin for policy-related tasks
│
├── ui/                              # Frontend Next.js application
│   ├── .env.local                   # Local environment variables for UI
│   ├── README.md                    # README specific to the UI application
│   ├── next.config.js               # Next.js configuration
│   ├── next-env.d.ts                # TypeScript definitions for Next.js environment
│   ├── package.json                 # Node.js dependencies and scripts for UI
│   ├── package-lock.json            # Lockfile for UI dependencies
│   ├── postcss.config.js            # PostCSS configuration
│   ├── tailwind.config.js           # Tailwind CSS configuration
│   ├── tsconfig.json                # TypeScript configuration for UI
│   │
│   ├── app/                         # Next.js App Router directory
│   │   ├── layout.tsx               # Main layout component
│   │   ├── page.tsx                 # Main page component (likely the landing/home page)
│   │   │
│   │   ├── api/                     # API routes handled by the Next.js server
│   │   │   └── chat/                # API routes related to chat functionality
│   │   │       └── route.ts         # Chat API endpoint logic
│   │   │
│   │   ├── chat/                    # Chat page components
│   │   │   └── page.tsx             # Chat interface page
│   │   │
│   │   ├── components/              # Reusable React components (currently empty)
│   │   │
│   │   ├── context/                 # React context providers
│   │   │   └── theme-provider.tsx   # Theme provider context
│   │   │
│   │   └── lib/                     # Utility functions or libraries for the UI (currently empty)
│   │
│   ├── public/                      # Static assets served by the UI
│   │   ├── dxc-logo.svg
│   │   └── dxc-logo-orig.svg
│   │
│   └── styles/                      # Global CSS styles
│       └── globals.css
│
├── uploads/                         # Directory for user-uploaded files (currently empty)
│
└── venv/                            # Python virtual environment (usually excluded from version control)
```

## Key Files and Responsibilities

*(Existing descriptions seem mostly accurate based on filenames, but might need review against actual code content. Leaving them as is for now, but recommend a separate review if needed)*

### Core Setup
- **requirements.txt**: Lists all required dependencies including Azure AI SDKs and Semantic Kernel
- **.env**: Stores configuration like API keys, endpoints, and Azure AI Agent Service settings
- **app.py**: Main Flask API server that handles client requests and orchestrates the system

### Orchestration Layer
- **src/orchestration/azure_agent_orchestrator.py**: Orchestrates Azure AI Agent Service interactions and agent coordination
- **src/orchestration/azure_agent_definitions.py**: Defines and deploys Azure AI agents for orchestration

### Agent Implementation
- **src/agents/policy_extraction_agent.py**: Implements the agent for extracting and understanding policy documents
- **src/agents/pay_calculation_agent.py**: Implements the agent for calculating pay based on policies and employee data
- **src/agents/analytics_agent.py**: Implements the agent for analyzing trends and identifying outliers
- **src/agents/agent_tool_executor.py**: Manages tool execution for the agents
- **src/agents/azure_agents_definition.py**: Defines structure/tools for Azure agents

### Data Access
- **src/data_access/local_file_connector.py**: Handles access to local files and documents
- **src/data_access/sharepoint_connector.py**: Handles access to files and documents in SharePoint
- **src/data_access/excel_processor.py**: Processes Excel files with pandas and provides data to agents

### Plugins
- **src/plugins/policy_plugin.py**: Implements semantic functions for policy extraction and validation
- **src/plugins/calculation_plugin.py**: Implements semantic functions for pay calculation
- **src/plugins/analytics_plugin.py**: Implements semantic functions for data analysis

### API Server
- **app.py**: Main Flask API server that provides endpoints for:
  - Interfacing with the backend orchestration (likely via UI calls)
  - File upload
  - Health check
- **run_orchestrator.py**: Script to run the orchestrator directly for testing

### Testing
- **test_azure_agent_service.py**: Tests for the Azure AI Agent Service integration
- **test_azure_agents.py**: Tests for the agent implementations
- **test_orchestrator.py**: Tests for the orchestrator functionality
- **test_openai_completion.py**: Tests for OpenAI completion functionality

### Azure Functions
- **function_app/function_app.py**: Contains Azure Function triggers and logic, potentially for background tasks or specific API endpoints.

### Frontend UI (Next.js)
- **ui/app/page.tsx**: Main landing page of the UI.
- **ui/app/chat/page.tsx**: The chat interface page.
- **ui/app/api/chat/route.ts**: Backend API route within Next.js to handle chat requests, likely forwarding to the Flask backend or orchestrator.
